<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ableton Chord Generator</title>
    <link rel="stylesheet" href="css/styles.css">
</head>
<body>
    <div class="container">
        <header>
            <h1>üéπ Ableton Live Chord Generator</h1>
            <p>Generiere algorithmische Akkordprogressionen direkt in Ableton Live 12.3</p>
        </header>

        <main>
            <form id="chordForm">
                <!-- Key Selection -->
                <div class="form-group">
                    <label for="key">Tonart (Key)</label>
                    <select id="key" name="key" required>
                        <option value="C" selected>C</option>
                        <option value="C#">C# / Db</option>
                        <option value="D">D</option>
                        <option value="D#">D# / Eb</option>
                        <option value="E">E</option>
                        <option value="F">F</option>
                        <option value="F#">F# / Gb</option>
                        <option value="G">G</option>
                        <option value="G#">G# / Ab</option>
                        <option value="A">A</option>
                        <option value="A#">A# / Bb</option>
                        <option value="B">B</option>
                    </select>
                </div>

                <!-- Scale/Mode Selection -->
                <div class="form-group">
                    <label for="scale">Modus/Skala (Scale)</label>
                    <select id="scale" name="scale" required>
                        <option value="Major" selected>Major (Dur)</option>
                        <option value="Minor">Minor (Moll)</option>
                        <option value="Dorian">Dorian</option>
                        <option value="Phrygian">Phrygian</option>
                        <option value="Lydian">Lydian</option>
                        <option value="Mixolydian">Mixolydian</option>
                        <option value="Aeolian">Aeolian</option>
                        <option value="Locrian">Locrian</option>
                    </select>
                </div>

                <!-- Mood Selection -->
                <div class="form-group">
                    <label for="mood">Stimmung (Mood)</label>
                    <select id="mood" name="mood" required>
                        <option value="happy" selected>Happy (Fr√∂hlich)</option>
                        <option value="sad">Sad (Traurig)</option>
                        <option value="dark">Dark (Dunkel)</option>
                        <option value="jazzy">Jazzy</option>
                        <option value="tense">Tense (Spannend)</option>
                        <option value="calm">Calm (Ruhig)</option>
                    </select>
                </div>

                <!-- Bars -->
                <div class="form-group">
                    <label for="bars">Anzahl Takte (Bars)</label>
                    <select id="bars" name="bars" required>
                        <option value="4">4</option>
                        <option value="8" selected>8</option>
                        <option value="16">16</option>
                        <option value="32">32</option>
                    </select>
                </div>

                <!-- BPM -->
                <div class="form-group">
                    <label for="bpm">BPM (Tempo)</label>
                    <div class="input-with-display">
                        <input type="number" id="bpm" name="bpm" min="60" max="200" value="120" required>
                        <span class="value-display" id="bpmDisplay">120</span>
                    </div>
                </div>

                <!-- Rhythm Pattern -->
                <div class="form-group">
                    <label for="rhythm">Rhythmus-Pattern</label>
                    <select id="rhythm" name="rhythm" required>
                        <option value="whole">Whole Notes (Ganze Noten)</option>
                        <option value="half">Half Notes (Halbe Noten)</option>
                        <option value="quarters" selected>Quarter Notes (Viertel)</option>
                        <option value="eighths">Eighth Notes (Achtel)</option>
                        <option value="random">Random (Zuf√§llig)</option>
                    </select>
                </div>

                <!-- Voice Leading Option -->
                <div class="form-group">
                    <label class="checkbox-label">
                        <input type="checkbox" id="voiceLeading" name="voiceLeading" checked>
                        <span>Voice Leading (Noten angleichen)</span>
                    </label>
                    <small>Minimiert Notenabst√§nde zwischen Akkorden f√ºr einheitlicheres Klangbild</small>
                </div>

                <!-- Irregular Chord Changes -->
                <div class="form-group">
                    <label class="checkbox-label">
                        <input type="checkbox" id="irregularChanges" name="irregularChanges">
                        <span>Unregelm√§√üige Akkordwechsel</span>
                    </label>
                    <small>Akkordwechsel variieren anstatt in jedem Takt</small>
                </div>

                <!-- Bass Note Option -->
                <div class="form-group">
                    <label class="checkbox-label">
                        <input type="checkbox" id="addBass" name="addBass">
                        <span>Bass-Grundton hinzuf√ºgen</span>
                    </label>
                    <small>F√ºgt den Grundton des Akkords als Bass-Note hinzu</small>
                </div>

                <!-- Bass Octave Offset (only visible when addBass is checked) -->
                <div class="form-group" id="bassOctaveGroup" style="display: none;">
                    <label for="bassOctave">Bass-Oktave</label>
                    <select id="bassOctave" name="bassOctave">
                        <option value="1">-1 Oktave (tiefer)</option>
                        <option value="2" selected>-2 Oktaven (sehr tief)</option>
                    </select>
                    <small>Wie viele Oktaven unter dem Akkord</small>
                </div>

                <!-- Target Track -->
                <div class="form-group">
                    <label for="targetTrack">Ziel-Spur (Target Track)</label>
                    <input type="number" id="targetTrack" name="targetTrack" min="0" max="127" value="0" required>
                    <small>Track-Nummer in Ableton (0-basiert, 0 = erster Track)</small>
                </div>

                <!-- Target Clip Slot -->
                <div class="form-group">
                    <label for="targetSlot">Clip-Slot (Szene)</label>
                    <input type="number" id="targetSlot" name="targetSlot" min="0" max="127" value="0" required>
                    <small>Slot-Nummer (0-basiert, 0 = erster Slot). √úberschreibt bestehende Clips.</small>
                </div>

                <!-- Action Buttons -->
                <div class="button-group">
                    <button type="button" id="previewBtn" class="btn btn-secondary">
                        üëÅÔ∏è Preview (Vorschau)
                    </button>
                    <button type="submit" class="btn btn-primary">
                        üéµ Generate in Ableton
                    </button>
                </div>
            </form>

            <!-- Status/Result Display -->
            <div id="statusBox" class="status-box hidden">
                <div class="status-content">
                    <span class="status-icon"></span>
                    <span class="status-message"></span>
                </div>
            </div>

            <!-- Preview Display -->
            <div id="previewBox" class="preview-box hidden">
                <h3>Progression Preview</h3>
                <div class="preview-content"></div>
            </div>
        </main>

        <footer>
            <p>Ableton Live 12.3 Chord Generator | Algorithmic Music Theory | No AI</p>
            <p class="hint">üí° Tipp: Stelle sicher, dass Ableton Live l√§uft und AbletonOSC aktiviert ist</p>
        </footer>
    </div>

    <script src="js/api.js"></script>
    <script src="js/formHandler.js"></script>
    <script src="js/app.js"></script>
</body>
</html>
